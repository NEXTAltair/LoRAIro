# 解決策候補検討・最適解選択

問題に対する複数の解決策候補を幅広く列挙し、それぞれの評価・比較を通じて最適解を選択します。

## 使用方法
```bash
/solutions 解決したい問題・課題の説明
```

## 重要原則
- 関連するコードは全て読むこと [doc-lookup-rules.mdc](mdc:.cursor/rules/doc-lookup-rules.mdc)
- 全ての処理においてultrathinkでしっかりと考えて作業を行うこと
- 既存の解決策に固執せず、創造的なアプローチも検討すること
- 各解決策の実装コスト・リスク・メリットを客観的に評価すること

## 説明
解決対象問題: $ARGUMENTS

上記問題に対して、可能な限り多角的な解決策候補を生成・検討し、LoRAIroプロジェクトの特性（AI統合、バッチ処理、GUI、パフォーマンス要件）を考慮した最適解を特定します。

## タスクに含まれるべきTODO

### 1. 問題分析・理解
1. ultrathinkを使用した問題の本質的理解
2. 問題の根本原因分析
3. 制約条件・要件の明確化
4. 影響範囲・関連コンポーネントの特定
5. 既存の類似問題解決パターン調査

### 2. 解決策候補生成（最低5-10案）
6. **直接アプローチ**: 問題に対する最もストレートな解決方法
7. **アーキテクチャ変更アプローチ**: 設計・構造を変更する解決方法
8. **設定・パラメータ調整アプローチ**: 既存機能の設定変更による解決
9. **ライブラリ・ツール活用アプローチ**: 外部ツール・新規ライブラリ導入
10. **データ構造・アルゴリズム変更アプローチ**: 根本的なデータ処理方式変更
11. **UI/UX改善アプローチ**: ユーザーインターフェース変更による解決
12. **バッチ処理・非同期化アプローチ**: 処理方式の非同期化・並列化
13. **キャッシュ・最適化アプローチ**: パフォーマンス最適化による解決
14. **段階的実装アプローチ**: 問題を分割して段階的に解決
15. **創造的・代替アプローチ**: 従来と異なる斬新な解決方法

### 3. 各解決策の詳細評価
16. **実装難易度**: 技術的複雑さ・開発工数評価
17. **実装コスト**: 必要リソース・時間見積もり
18. **技術的リスク**: 失敗可能性・副作用・技術的課題
19. **保守性・拡張性**: 長期的メンテナンス・将来拡張への影響
20. **パフォーマンス影響**: 処理速度・メモリ使用量・スループットへの影響
21. **LoRAIro適合性**: 既存アーキテクチャ・設計方針との整合性
22. **ユーザー体験**: UI/UX・使いやすさへの影響
23. **テスト容易性**: テスト実装・検証の難易度

### 4. LoRAIro固有考慮事項評価
24. **AI統合への影響**: アノテーション機能・複数プロバイダーサポート
25. **バッチ処理への影響**: 1000画像/5分の性能目標達成
26. **データベース影響**: SQLiteスキーマ・マイグレーション必要性
27. **GUI統合性**: PySide6 コンポーネント・Signal/Slot への影響
28. **ローカルパッケージ影響**: image-annotator-lib・genai-tag-db-tools との互換性
29. **設定管理影響**: config/lorairo.toml・ConfigurationService への影響
30. **クロスプラットフォーム対応**: Linux/Windows環境での動作保証

### 5. 比較分析・ランキング
31. **優先度マトリックス**: 効果×実装容易性での評価
32. **リスク・リターン分析**: コスト対効果・ROI評価
33. **短期・長期影響分析**: 即効性vs持続的価値
34. **依存関係・制約分析**: 他機能・コンポーネントへの影響度
35. **ユーザー価値評価**: エンドユーザーへの具体的メリット

### 6. 最適解選択・推奨
36. **上位3候補選出**: 総合評価による上位候補特定
37. **トレードオフ分析**: 各候補の長所・短所・妥協点
38. **実装戦略提案**: 推奨解決策の実装アプローチ
39. **代替案・フォールバック**: リスク対策・代替手段
40. **段階的実装計画**: 大規模変更の場合の段階的アプローチ

### 7. 文書化・提案
41. 解決策検討結果を文書化し、`tasks/solutions/solutions_{YYYYMMDD_HHMMSS}.md`に保存
42. 推奨解決策の根拠・理由明確化
43. 実装リスク・対策の文書化
44. 次ステップ（plan/implement）への移行推奨事項
45. 検討完了をコンソール出力で通知（echo "🎯 解決策検討完了"）

## 実行内容

### 問題分析フェーズ
- 問題の本質・根本原因の深掘り
- 制約・要件・影響範囲の明確化
- 既存システム・過去事例の調査

### 解決策創出フェーズ
- 多角的アプローチによる幅広い候補生成
- 創造的・斬新なアイデアの検討
- LoRAIro特性を活かした解決策検討

### 評価・選択フェーズ
- 各候補の客観的評価・比較
- リスク・コスト・効果の総合判断
- 最適解の選択・推奨根拠明確化

## 必読ファイル
- `CLAUDE.md` - プロジェクト制約・方針
- `.cursor/rules/rules.mdc` - 開発ルール・パターン
- `docs/architecture.md` - システム設計制約
- `docs/product_requirement_docs.md` - 要件制約
- `src/lorairo/` - 既存実装パターン・制約
- `config/lorairo.toml` - 設定・パラメータ制約

## 出力形式
1. **ultrathink検討プロセス**: 解決策検討の思考過程
2. **問題分析サマリー**: 根本原因・制約・要件整理
3. **解決策候補一覧**: 全候補（5-10案）の概要説明
4. **詳細評価マトリックス**: 各候補の評価項目別スコア
5. **LoRAIro適合性分析**: プロジェクト特性との整合性評価
6. **推奨解決策**: 最適解の選択理由・根拠
7. **トレードオフ分析**: 選択した解決策の妥協点・リスク
8. **実装戦略概要**: 推奨解決策の実装アプローチ
9. **代替案・リスク対策**: フォールバック・リスク軽減策
10. **次ステップ推奨**: plan/implementフェーズへの移行提案

## 次のコマンド
最適解が決定した後は `@plan` コマンドで詳細実装計画を策定します。
